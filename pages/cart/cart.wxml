<!--pages/cart/cart.wxml-->
<view class="container cart-container">
  <block wx:if="{{cartData.length>0}}">
    <view class='cart-box'>
      <block wx:for='{{cartData}}' wx:key='{{index}}'>
        <view class='cart-item'>
          <view class='cart-item-main'>
            <view class='cart-item-checkbox'>
              <image wx:if="{{item.selectStatus}}" src="../../imgs/icon/circle@selected.png"></image>
              <image wx:else src="../../imgs/icon/circle@noselected.png"></image>
            </view>
            <view class="cart-item-img" bindtap="onProductsItemTap" data-id="{{item.id}}">
                <image class="good-image" src="http://www.xcs.com/images{{item.main_img_url}}"></image>
            </view>
            <view class='cart-item-word'>
              <view class="title-box">
                  <text class="title">{{item.name}}</text>
                  <text>￥{{item.price}}</text>
              </view>
              <!-- 改变数量 删除商品 -->
              <view class='bottom-box'>
                <view class='cart-item-counts'>
                  <view class='btns'>-</view>
                  <view class='counts'>{{item.counts}}</view>
                  <view class='btns'>+</view>
                </view>
                <view class='delete'>×</view>
              </view>
            </view>
          </view>
        </view>
      </block>
    </view>
    <view class='footer-account-box all-accounts-box'>
      <!-- 全选 -->
      <view class='all-select' bindtap='toggleSelectAll' data-status='{{selectedTypeCounts==cartData.length?"true":"false"}}'>
        <image wx:if="{{selectedTypeCounts==cartData.length}}"
                class="title-icon" src="../../imgs/icon/all@selected.png"></image>
        <image wx:else class="title-icon" src="../../imgs/icon/all.png"></image>
        <text>全选({{selectedCounts}})</text>
      </view>
      <!-- 下单 -->
      <!-- 总金额为0，禁用下单按钮 -->
      <view class='all-price-submit {{account==0?"disabled":""}}' bindtap='submitOrder'>
        <view class='accounts-btn'>下单</view>
        <view class='price-text'>￥{{account}}</view>
        <view class='arrow-icon'>
          <image wx:if="{{account==0}}" src="../../imgs/icon/arrow@grey.png"></image>
          <image wx:else src="../../imgs/icon/arrow.png"></image>
        </view>
      </view>
    </view>
  </block>
  <view  wx:else class="no-data">
      您还没有添加任何商品
  </view>
</view>